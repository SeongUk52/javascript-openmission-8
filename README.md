# javascript-openmission-8
우아한테크코스(Woowa Tech Course) 웹 프론트엔드 8기 오픈 미션: 프리코스 챌린지

## 🎯 미션: 물리엔진 기반 타워 빌딩 게임

### 📋 프로젝트 개요
물리엔진을 직접 구현하여 타워를 쌓는 웹 게임을 만든다. 그래픽 기반으로 구현하며, 단계별로 기능을 확장해 나간다.

### 🎯 목표
- ✅ 프리코스 문제 형태 유지 (단계별 진행, 명확한 규칙)
- ✅ 물리엔진 직접 구현 (고난도 문제)
- ✅ 웹 기반 그래픽 게임
- ✅ 프로그래밍 역량을 제대로 보여줄 수 있는 복잡한 문제

---

## 🎮 게임 컨셉: Stack Tower (물리 기반)

### 핵심 메커닉
- 위에서 블록이 떨어짐
- 플레이어가 좌/우로 블록 배치 결정
- 물리엔진이 중력, 충돌, 회전, 균형을 계산
- 타워가 무너지면 게임 오버
- 높이/안정성에 따라 점수 획득

### 물리엔진 구현 요소

#### 1. 기본 물리 시스템
- **중력**: 일정한 가속도 적용
- **속도/가속도**: 선형 운동 계산
- **질량**: 블록별 무게 차이
- **시간 단위**: 프레임 기반 시뮬레이션

#### 2. 충돌 감지
- **AABB (Axis-Aligned Bounding Box)**: 직사각형 충돌
- **충돌 반응**: 탄성/비탄성 충돌
- **접촉점 계산**: 충돌 위치 파악

#### 3. 회전/토크 시스템
- **각속도**: 회전 속도
- **관성 모멘트**: 회전 관성
- **토크 계산**: 무게 중심 기준 회전력
- **균형 판정**: 중심점과 지지점 관계

#### 4. 고급 물리
- **마찰력**: 블록 간 마찰
- **공기 저항**: 떨어지는 속도 제한
- **진동/흔들림**: 불안정한 구조 시뮬레이션

---

## 🏗️ 아키텍처 설계

### 계층 구조
```
src/
├── physics/              # 물리엔진 (순수 JS, 플랫폼 독립적)
│   ├── Vector.js        # 2D 벡터 연산
│   ├── Body.js          # 물리 객체 (질량, 속도, 위치)
│   ├── Collision.js     # 충돌 감지/처리
│   ├── Gravity.js       # 중력 시스템
│   ├── Torque.js        # 회전/토크 계산
│   └── PhysicsEngine.js # 메인 엔진
│
├── game/                # 게임 로직
│   ├── Block.js         # 블록 객체
│   ├── Tower.js         # 타워 관리
│   ├── GameState.js     # 게임 상태
│   └── ScoreSystem.js   # 점수 계산
│
├── renderer/           # 렌더링 레이어
│   ├── CanvasRenderer.js  # Canvas 렌더링
│   ├── Animation.js       # 애니메이션 처리
│   └── UI.js              # UI 요소 (점수, 버튼 등)
│
├── web/                # 웹 진입점
│   ├── index.html
│   └── main.js
│
└── index.js            # 개발용 테스트 진입점
```

### 핵심 원칙
1. **물리엔진 완전 분리**: 게임 로직과 독립적으로 동작
2. **렌더링 분리**: 물리 계산과 렌더링 완전 분리
3. **확장 가능**: 새로운 물리 요소 추가 용이
4. **성능 최적화**: 60fps 유지

---

## 📝 구현 단계

### Phase 1: 물리엔진 코어 ✅
- [x] 2D 벡터 클래스 구현
- [x] 기본 Body 클래스 (위치, 속도, 질량)
- [x] 중력 시스템
- [x] AABB 충돌 감지
- [x] 충돌 반응 처리

### Phase 2: 회전/토크 시스템
- [x] 각속도 구현
- [x] 관성 모멘트 계산
- [x] 토크 계산 (무게 중심 기준)
- [x] 균형 판정 알고리즘

### Phase 3: 게임 로직
- [ ] 블록 생성 시스템
- [ ] 타워 관리
- [ ] 입력 처리 (키보드/마우스)
- [ ] 게임 루프
- [ ] 점수 시스템

### Phase 4: 렌더링 시스템
- [ ] Canvas 기본 렌더링
- [ ] 블록 그리기
- [ ] 물리 상태 시각화
- [ ] UI 요소 (점수, 게임 오버 등)

### Phase 5: 고급 기능 (선택)
- [ ] 애니메이션 효과
- [ ] 파티클 효과
- [ ] 사운드 효과
- [ ] 반응형 디자인

---

## 🛠️ 기술 스택
- **언어**: JavaScript (ES6+)
- **런타임**: 브라우저
- **렌더링**: HTML5 Canvas
- **테스트**: Jest (물리엔진 단위 테스트)
- **물리**: 직접 구현 (외부 라이브러리 사용 안 함)
- **빌드**: Vite 또는 Webpack (선택)

---

## 🎓 프로그래밍 역량 포인트

### 1. 수학적 알고리즘
- 벡터 연산 (덧셈, 뺄셈, 내적, 외적)
- 물리 공식 구현 (운동 방정식, 토크)
- 좌표 변환

### 2. 복잡한 시스템 설계
- 물리엔진 아키텍처
- 충돌 감지 최적화
- 상태 관리

### 3. 성능 최적화
- 프레임 레이트 유지
- 충돌 감지 최적화 (공간 분할 등)

### 4. 테스트 가능한 구조
- 물리 계산 단위 테스트
- 시뮬레이션 검증

---

## 📚 참고 자료
- 2D 물리엔진 기본 개념
- 충돌 감지 알고리즘
- 토크/회전 물리

---

## 🌿 브랜치 전략 (Git Flow)

### 브랜치 종류
- `main`: 프로덕션 버전 (안정적인 배포 버전)
- `develop`: 개발 브랜치 (통합 개발 환경)
- `feature/기능명`: 기능 개발 (예: `feature/physics-engine`)
- `release/버전`: 릴리즈 준비 (예: `release/v1.0.0`)
- `hotfix/버그명`: 긴급 버그 수정 (예: `hotfix/collision-bug`)

### 워크플로우
1. **기능 개발**
   - `develop`에서 `feature/기능명` 브랜치 생성
   - 개발 완료 후 `develop`으로 머지
   
2. **릴리즈 준비**
   - `develop`에서 `release/버전` 브랜치 생성
   - 버그 수정 및 테스트
   - 완료 후 `main`과 `develop` 모두에 머지
   
3. **긴급 수정**
   - `main`에서 `hotfix/버그명` 브랜치 생성
   - 수정 완료 후 `main`과 `develop` 모두에 머지

4. **커밋 메시지**: Conventional Commits 형식 사용

---

## 📊 진행 상황

### 완료된 작업
- ✅ **Vector 클래스**: 2D 벡터 연산 (덧셈, 뺄셈, 내적, 외적, 회전 등)
- ✅ **Body 클래스**: 물리 객체 (위치, 속도, 질량, 관성 모멘트, 토크 등)
- ✅ **Gravity 시스템**: 중력 힘 적용 및 설정
- ✅ **Collision 시스템**: AABB 충돌 감지 및 해결 (위치 보정, 임펄스 적용)
- ✅ **Torque 시스템**: 토크 계산/적용, 각운동 업데이트, 각속도 제한
- ✅ **Balance 시스템**: 지지 영역 기반 안정성 판정, 허용 오프셋 계산
- ✅ **PhysicsEngine**: 모든 물리 시스템 통합, Body 관리, 이벤트 콜백
- ✅ **테스트**: 총 94개 테스트 케이스 통과

### 다음 단계
1. 게임 로직 구현 (블록, 타워)
2. Canvas 렌더링 시스템
3. 게임 루프 및 입력 처리
